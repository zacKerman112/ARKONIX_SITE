<!DOCTYPE html>
<html lang="ru">
{% extends "base.html" %}
{% block title %}–ü—Ä–æ—Ñ–∏–ª—å —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞ - ARKONIX{% endblock %}
{% block content %}
<head>
    <meta charset="UTF-8">
    <title>–ü—Ä–æ—Ñ–∏–ª—å —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞ - ARKONIX</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <style>
        .staff-profile-container {
            max-width: 1200px;
            margin: 100px auto 50px;
            padding: 20px;
        }

        .profile-header {
            background: linear-gradient(90deg, #38bdf8, #818cf8);
            color: #020617;
            padding: 30px;
            border-radius: 20px;
            margin-bottom: 30px;
            box-shadow: 0 0 40px rgba(56, 189, 248, 0.2);
        }

        .profile-header h1 {
            margin: 0 0 10px 0;
            font-size: 2.5em;
            font-weight: 900;
        }

        .profile-header p {
            margin: 0;
            opacity: 0.9;
        }

        .info-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .info-card {
            background: rgba(15, 23, 42, 0.6);
            border: 1px solid rgba(255, 255, 255, 0.08);
            padding: 25px;
            border-radius: 16px;
            backdrop-filter: blur(12px);
        }

        .info-card h3 {
            margin: 0 0 15px 0;
            color: #38bdf8;
            font-size: 1.3em;
        }

        .info-row {
            display: flex;
            justify-content: space-between;
            padding: 10px 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
        }

        .info-row:last-child {
            border-bottom: none;
        }

        .info-label {
            color: #94a3b8;
        }

        .info-value {
            color: #e5e7eb;
            font-weight: 600;
        }

        .earnings-section {
            background: linear-gradient(135deg, rgba(34, 197, 94, 0.1), rgba(16, 185, 129, 0.05));
            border: 2px solid rgba(34, 197, 94, 0.3);
            padding: 30px;
            border-radius: 20px;
            margin-bottom: 30px;
            box-shadow: 0 0 40px rgba(34, 197, 94, 0.1);
        }

        .earnings-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .earnings-header h2 {
            margin: 0;
            color: #22c55e;
            font-size: 1.8em;
        }

        .total-earned {
            font-size: 3em;
            font-weight: 900;
            color: #22c55e;
            text-align: center;
            margin: 20px 0;
        }

        .earnings-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }

        .stat-item {
            background: rgba(2, 6, 23, 0.4);
            padding: 15px;
            border-radius: 12px;
            text-align: center;
            border: 1px solid rgba(34, 197, 94, 0.2);
        }

        .stat-item h4 {
            margin: 0 0 5px 0;
            font-size: 1.8em;
            color: #22c55e;
        }

        .stat-item p {
            margin: 0;
            color: #94a3b8;
            font-size: 0.9em;
        }

        .view-all-payments-btn {
            display: inline-block;
            padding: 12px 24px;
            background: linear-gradient(90deg, #22c55e, #16a34a);
            color: white;
            text-decoration: none;
            border-radius: 10px;
            font-weight: 700;
            transition: all 0.3s;
            margin-top: 15px;
        }

        .view-all-payments-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 20px rgba(34, 197, 94, 0.4);
        }

        .recent-payments {
            background: rgba(15, 23, 42, 0.6);
            border: 1px solid rgba(255, 255, 255, 0.08);
            padding: 25px;
            border-radius: 16px;
            margin-bottom: 30px;
        }

        .recent-payments h3 {
            margin: 0 0 20px 0;
            color: #38bdf8;
            font-size: 1.5em;
        }

        .payment-item {
            background: rgba(2, 6, 23, 0.6);
            padding: 15px;
            border-radius: 10px;
            border: 1px solid rgba(255, 255, 255, 0.05);
            margin-bottom: 10px;
            transition: 0.3s;
        }

        .payment-item:hover {
            border-color: #22c55e;
            transform: translateX(5px);
        }

        .payment-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 8px;
        }

        .payment-amount {
            font-size: 1.5em;
            font-weight: 900;
            color: #22c55e;
        }

        .payment-date {
            color: #94a3b8;
            font-size: 0.85em;
        }

        .payment-description {
            color: #cbd5f5;
            font-size: 0.9em;
            padding-top: 8px;
            border-top: 1px solid rgba(255, 255, 255, 0.05);
        }

        .documents-section {
            background: rgba(15, 23, 42, 0.6);
            border: 1px solid rgba(255, 255, 255, 0.08);
            padding: 25px;
            border-radius: 16px;
            margin-bottom: 30px;
        }

        .documents-section h3 {
            margin: 0 0 20px 0;
            color: #38bdf8;
            font-size: 1.5em;
        }

        .document-item {
            background: rgba(2, 6, 23, 0.6);
            padding: 15px;
            border-radius: 10px;
            border: 1px solid rgba(255, 255, 255, 0.05);
            margin-bottom: 10px;
            transition: 0.3s;
        }

        .document-item:hover {
            border-color: #38bdf8;
        }

        .document-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 8px;
        }

        .document-name {
            color: #e5e7eb;
            font-weight: 700;
        }

        .document-type {
            padding: 4px 10px;
            background: rgba(56, 189, 248, 0.2);
            border: 1px solid rgba(56, 189, 248, 0.3);
            border-radius: 8px;
            font-size: 0.8em;
            color: #38bdf8;
        }

        .document-actions {
            display: flex;
            gap: 10px;
            margin-top: 10px;
        }

        .btn {
            padding: 8px 16px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s;
            text-decoration: none;
            display: inline-block;
            font-size: 0.9em;
        }

        .btn-view {
            background: linear-gradient(90deg, #38bdf8, #818cf8);
            color: #020617;
        }

        .btn-view:hover {
            transform: translateY(-2px);
            box-shadow: 0 3px 15px rgba(56, 189, 248, 0.4);
        }

        .btn-download {
            background: linear-gradient(90deg, #22c55e, #16a34a);
            color: white;
        }

        .btn-download:hover {
            transform: translateY(-2px);
            box-shadow: 0 3px 15px rgba(34, 197, 94, 0.4);
        }

        .upload-section {
            background: rgba(15, 23, 42, 0.6);
            border: 1px solid rgba(255, 255, 255, 0.08);
            padding: 25px;
            border-radius: 16px;
            margin-bottom: 30px;
        }

        .upload-section h3 {
            margin: 0 0 20px 0;
            color: #818cf8;
            font-size: 1.5em;
        }

        .upload-form {
            display: grid;
            gap: 15px;
        }

        .form-group label {
            display: block;
            color: #cbd5f5;
            margin-bottom: 8px;
            font-weight: 600;
        }

        .form-group input,
        .form-group select,
        .form-group textarea {
            width: 100%;
            padding: 12px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            background: rgba(2, 6, 23, 0.6);
            color: #e5e7eb;
            font-size: 1em;
        }

        .form-group input:focus,
        .form-group select:focus,
        .form-group textarea:focus {
            outline: none;
            border-color: #818cf8;
        }

        .btn-upload {
            padding: 12px 24px;
            background: linear-gradient(90deg, #818cf8, #a78bfa);
            color: white;
            border: none;
            border-radius: 10px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s;
        }

        .btn-upload:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 20px rgba(129, 140, 248, 0.4);
        }

        .logout-btn {
            display: inline-block;
            padding: 12px 24px;
            background: linear-gradient(90deg, #ef4444, #dc2626);
            color: white;
            text-decoration: none;
            border-radius: 10px;
            font-weight: 700;
            transition: all 0.3s;
            margin-top: 20px;
        }

        .logout-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 20px rgba(239, 68, 68, 0.4);
        }

        /* –°—Ç–∏–ª–∏ –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ–± –æ–¥–æ–±—Ä–µ–Ω–∏–∏ */
        .approval-notification {
            position: fixed;
            top: 20px;
            right: 20px;
            background: linear-gradient(135deg, #10b981, #059669);
            color: white;
            padding: 20px 30px;
            border-radius: 12px;
            box-shadow: 0 0 30px rgba(16, 185, 129, 0.4);
            z-index: 9999;
            animation: slideInRight 0.5s ease-out, slideOutRight 0.5s ease-out 2s forwards;
            font-weight: 600;
            font-size: 1.1em;
        }

        @keyframes slideInRight {
            from {
                transform: translateX(400px);
                opacity: 0;
            }

            to {
                transform: translateX(0);
                opacity: 1;
            }
        }

        @keyframes slideOutRight {
            from {
                transform: translateX(0);
                opacity: 1;
            }

            to {
                transform: translateX(400px);
                opacity: 0;
            }
        }
    </style>
</head>

<body>

    <header class="header">
        <div class="container header-container">
            <div class="logo">
                <a href="/" style="color: inherit; text-decoration: none;">ARKONIX</a>
            </div>

            <nav class="nav">
                <a href="/">–ì–ª–∞–≤–Ω–∞—è</a>
                <a href="/services">–£—Å–ª—É–≥–∏</a>
                <a href="/team">–ö–æ–º–∞–Ω–¥–∞</a>
                <a href="/discussions">–û–±—Å—É–∂–¥–µ–Ω–∏—è</a>
            </nav>

            <div class="user-panel">
                <a href="/staff/profile">–ü—Ä–æ—Ñ–∏–ª—å</a>
                <a href="/logout">–í—ã—Ö–æ–¥</a>
            </div>
        </div>
    </header>

    <div class="staff-profile-container">
        <div class="profile-header">
            <h1>üë§ –ü—Ä–æ—Ñ–∏–ª—å —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞</h1>
            <p>{{ member['first_name'] }} {{ member['last_name'] }} - {{ member['position'] }}</p>
        </div>

        <!-- –ù–û–í–ê–Ø –°–ï–ö–¶–ò–Ø –ó–ê–†–ê–ë–û–¢–ö–ê -->
        <div class="earnings-section">
            <div class="earnings-header">
                <h2>üí∞ –ú–æ–π –∑–∞—Ä–∞–±–æ—Ç–æ–∫</h2>
            </div>

            <div class="total-earned">
                ${{ "%.2f"|format(total_earned) if total_earned else "0.00" }}
            </div>

            <div class="earnings-stats">
                <div class="stat-item">
                    <h4>{{ payment_count }}</h4>
                    <p>–í—Å–µ–≥–æ –∑–∞—á–∏—Å–ª–µ–Ω–∏–π</p>
                </div>
                <div class="stat-item">
                    <h4>${{ "%.2f"|format(total_earned / payment_count) if payment_count > 0 else "0.00" }}</h4>
                    <p>–°—Ä–µ–¥–Ω—è—è –≤—ã–ø–ª–∞—Ç–∞</p>
                </div>
            </div>

            <div style="text-align: center;">
                <a href="/staff/payments" class="view-all-payments-btn">üìä –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≤—Å—é –∏—Å—Ç–æ—Ä–∏—é –∑–∞—á–∏—Å–ª–µ–Ω–∏–π</a>
            </div>
        </div>

        <!-- –ü–û–°–õ–ï–î–ù–ò–ï –ó–ê–ß–ò–°–õ–ï–ù–ò–Ø -->
        {% if recent_payments %}
        <div class="recent-payments">
            <h3>üìã –ü–æ—Å–ª–µ–¥–Ω–∏–µ 5 –∑–∞—á–∏—Å–ª–µ–Ω–∏–π</h3>

            {% for payment in recent_payments %}
            <div class="payment-item">
                <div class="payment-header">
                    <div class="payment-amount">
                        +${{ "%.2f"|format(payment['amount']) }}
                    </div>
                    <div class="payment-date">
                        üìÖ {{ payment['created_at'][:16] if payment['created_at'] else '–ù–µ–¥–∞–≤–Ω–æ' }}
                    </div>
                </div>
                {% if payment['description'] %}
                <div class="payment-description">
                    üìù {{ payment['description'] }}
                </div>
                {% endif %}
            </div>
            {% endfor %}
        </div>
        {% endif %}

        <!-- –û—Å–Ω–æ–≤–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è -->
        <div class="info-grid">
            <div class="info-card">
                <h3>üìã –û—Å–Ω–æ–≤–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</h3>
                <div class="info-row">
                    <span class="info-label">–ò–º—è:</span>
                    <span class="info-value">{{ member['first_name'] }}</span>
                </div>
                <div class="info-row">
                    <span class="info-label">–§–∞–º–∏–ª–∏—è:</span>
                    <span class="info-value">{{ member['last_name'] }}</span>
                </div>
                <div class="info-row">
                    <span class="info-label">–î–æ–ª–∂–Ω–æ—Å—Ç—å:</span>
                    <span class="info-value">{{ member['position'] }}</span>
                </div>
                <div class="info-row">
                    <span class="info-label">Email:</span>
                    <span class="info-value">{{ member['email'] if member['email'] else '–ù–µ —É–∫–∞–∑–∞–Ω' }}</span>
                </div>
            </div>

            <div class="info-card">
                <h3>üîê –î–∞–Ω–Ω—ã–µ –≤—Ö–æ–¥–∞</h3>
                <div class="info-row">
                    <span class="info-label">–õ–æ–≥–∏–Ω:</span>
                    <span class="info-value">{{ member['username'] }}</span>
                </div>
                <div class="info-row">
                    <span class="info-label">–î–∞—Ç–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏:</span>
                    <span class="info-value">{{ member['created_at'][:10] if member['created_at'] else '–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ'
                        }}</span>
                </div>
                <div class="info-row">
                    <span class="info-label">–°—Ç–∞—Ç—É—Å:</span>
                    <span class="info-value">
                        {% if member['status'] == 'approved' %}
                        ‚úÖ –û–¥–æ–±—Ä–µ–Ω
                        {% elif member['status'] == 'pending' %}
                        ‚è≥ –ù–∞ —Ä–∞—Å—Å–º–æ—Ç—Ä–µ–Ω–∏–∏
                        {% else %}
                        ‚ùå –û—Ç–∫–ª–æ–Ω–µ–Ω
                        {% endif %}
                    </span>
                </div>
            </div>
        </div>

        <!-- –ú–æ–∏ –¥–æ–∫—É–º–µ–Ω—Ç—ã -->
        <div class="documents-section">
            <h3>üìÑ –ú–æ–∏ –¥–æ–∫—É–º–µ–Ω—Ç—ã ({{ documents|length }})</h3>

            {% if documents %}
            {% for doc in documents %}
            <div class="document-item">
                <div class="document-header">
                    <span class="document-name">üìé {{ doc['document_name'] }}</span>
                    <span class="document-type">
                        {% if doc['document_type'] == 'contract' %}
                        üìã –î–æ–≥–æ–≤–æ—Ä
                        {% elif doc['document_type'] == 'passport' %}
                        ü™™ –ü–∞—Å–ø–æ—Ä—Ç
                        {% elif doc['document_type'] == 'certificate' %}
                        üéì –°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç
                        {% elif doc['document_type'] == 'other' %}
                        üìÅ –î—Ä—É–≥–æ–µ
                        {% else %}
                        üìÑ {{ doc['document_type'] }}
                        {% endif %}
                    </span>
                </div>

                {% if doc.get('description') %}
                <div style="color: #94a3b8; font-size: 0.9em; margin-top: 8px;">
                    {{ doc['description'] }}
                </div>
                {% endif %}

                <div style="color: #64748b; font-size: 0.85em; margin-top: 8px;">
                    üìÖ –ó–∞–≥—Ä—É–∂–µ–Ω–æ: {{ doc['uploaded_at'][:16] if doc['uploaded_at'] else '–ù–µ–¥–∞–≤–Ω–æ' }}
                </div>

                <div class="document-actions">
                    <a href="/staff/document/preview/{{ doc['id'] }}" class="btn btn-view" target="_blank">
                        üëÅÔ∏è –ü—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å
                    </a>
                    <a href="/staff/document/download/{{ doc['id'] }}" class="btn btn-download">
                        ‚¨áÔ∏è –°–∫–∞—á–∞—Ç—å
                    </a>
                </div>
            </div>
            {% endfor %}
            {% else %}
            <div style="text-align: center; padding: 40px; color: #64748b;">
                <p>–£ –≤–∞—Å –ø–æ–∫–∞ –Ω–µ—Ç –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤</p>
            </div>
            {% endif %}
        </div>

        <!-- –ó–∞–≥—Ä—É–∑–∫–∞ –Ω–æ–≤–æ–≥–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞ -->
        <div class="upload-section">
            <h3>üì§ –ó–∞–≥—Ä—É–∑–∏—Ç—å –Ω–æ–≤—ã–π –¥–æ–∫—É–º–µ–Ω—Ç</h3>
            <form method="POST" action="/staff/upload_document" enctype="multipart/form-data" class="upload-form">
                <div class="form-group">
                    <label for="document_name">–ù–∞–∑–≤–∞–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞ *</label>
                    <input type="text" id="document_name" name="document_name" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç Python"
                        required>
                </div>

                <div class="form-group">
                    <label for="document_type">–¢–∏–ø –¥–æ–∫—É–º–µ–Ω—Ç–∞ *</label>
                    <select id="document_type" name="document_type" required>
                        <option value="">–í—ã–±–µ—Ä–∏—Ç–µ —Ç–∏–ø</option>
                        <option value="passport">ü™™ –ü–∞—Å–ø–æ—Ä—Ç</option>
                        <option value="certificate">üéì –°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç</option>
                        <option value="diploma">üéì –î–∏–ø–ª–æ–º</option>
                        <option value="contract">üìã –î–æ–≥–æ–≤–æ—Ä</option>
                        <option value="other">üìÅ –î—Ä—É–≥–æ–µ</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="description">–û–ø–∏—Å–∞–Ω–∏–µ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)</label>
                    <textarea id="description" name="description" rows="3"
                        placeholder="–ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞"></textarea>
                </div>

                <div class="form-group">
                    <label for="document">–í—ã–±–µ—Ä–∏—Ç–µ —Ñ–∞–π–ª *</label>
                    <input type="file" id="document" name="document" accept=".pdf,.doc,.docx,.jpg,.jpeg,.png" required>
                </div>

                <button type="submit" class="btn-upload">üì§ –ó–∞–≥—Ä—É–∑–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç</button>
            </form>
        </div>

        <div style="text-align: center;">
            <a href="/logout" class="logout-btn">üö™ –í—ã–π—Ç–∏ –∏–∑ –∞–∫–∫–∞—É–Ω—Ç–∞</a>
        </div>
    </div>

    <footer class="footer">
        <div class="container footer-container">
            <div class="footer-section">
                <h4>–ö–æ–Ω—Ç–∞–∫—Ç—ã</h4>
                <p>–¢–µ–ª–µ—Ñ–æ–Ω: +38 095 713 66 14</p>
                <p>Email: <a href="mailto:arkonix.official@gmail.com">arkonix.official@gmail.com</a></p>
            </div>

            <div class="footer-section">
                <h4>–°–æ—Ü—Å–µ—Ç–∏</h4>
                <a href="https://t.me/worldit23">Telegram</a><br>
                <a href="https://discord.gg/uKzRMmshnp">Discord</a>
            </div>

            <div class="footer-section">
                <a href="/terms">–£—Å–ª–æ–≤–∏—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è</a>
                <a href="/privacy">–ü–æ–ª–∏—Ç–∏–∫–∞ –∏ –ø—Ä–∞–≤–∏–ª–∞</a>
            </div>
        </div>

        <div class="footer-bottom">
            &copy; 2025 ARKONIX. –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã.
        </div>
    </footer>

    <script>
        // –ü–æ–ª—É—á–∞–µ–º —Å—Ç–∞—Ç—É—Å –∏ ID —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞
        const currentStatus = "{{ member['status'] }}";
        const staffMemberId = "{{ session.get('staff_member_id', '') }}";
        const storageKey = `approval_notification_shown_${staffMemberId}`;

        // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –±—ã–ª –ª–∏ —É–∂–µ –ø–æ–∫–∞–∑–∞–Ω —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
        const hasShownNotification = localStorage.getItem(storageKey);

        function showApprovalNotification() {
            const notification = document.createElement('div');
            notification.className = 'approval-notification';
            notification.innerHTML = '‚úÖ –ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º! –í–∞—à –ø—Ä–æ—Ñ–∏–ª—å –æ–¥–æ–±—Ä–µ–Ω –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º!';

            document.body.appendChild(notification);

            // –û—Ç–º–µ—á–∞–µ–º, —á—Ç–æ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –±—ã–ª–æ –ø–æ–∫–∞–∑–∞–Ω–æ
            localStorage.setItem(storageKey, 'true');

            // –£–¥–∞–ª—è–µ–º —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ 2.5 —Å–µ–∫—É–Ω–¥—ã (—á—Ç–æ–±—ã —É—Å–ø–µ–ª–∞ –ø—Ä–æ–∏–≥—Ä–∞—Ç—å—Å—è –∞–Ω–∏–º–∞—Ü–∏—è)
            setTimeout(() => {
                notification.remove();
            }, 2500);
        }

        // –ï—Å–ª–∏ —Å—Ç–∞—Ç—É—Å –æ–¥–æ–±—Ä–µ–Ω –ò —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –µ—â–µ –Ω–µ –±—ã–ª–æ –ø–æ–∫–∞–∑–∞–Ω–æ - –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –µ–≥–æ
        if (currentStatus === 'approved' && !hasShownNotification) {
            showApprovalNotification();
        }

        // –î–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å—Ç–∞—Ç—É—Å–∞ –∫–∞–∂–¥—ã–µ 10 —Å–µ–∫—É–Ω–¥ (–µ—Å–ª–∏ —Å—Ç–∞—Ç—É—Å –º–æ–∂–µ—Ç –∏–∑–º–µ–Ω–∏—Ç—å—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏)
        setInterval(() => {
            fetch('/api/staff/status')
                .then(response => response.json())
                .then(data => {
                    // –ï—Å–ª–∏ —Å—Ç–∞—Ç—É—Å –∏–∑–º–µ–Ω–∏–ª—Å—è –Ω–∞ "–æ–¥–æ–±—Ä–µ–Ω" –ò —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –µ—â–µ –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞–ª–æ—Å—å
                    if (data.status === 'approved' && currentStatus !== 'approved' && !hasShownNotification) {
                        showApprovalNotification();
                        // –ù–µ–º–Ω–æ–≥–æ –∂–¥–µ–º –ø–µ—Ä–µ–¥ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–æ–π
                        setTimeout(() => {
                            location.reload();
                        }, 2500);
                    }
                })
                .catch(error => console.log('–û—à–∏–±–∫–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å—Ç–∞—Ç—É—Å–∞:', error));
        }, 10000); // –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞–∂–¥—ã–µ 10 —Å–µ–∫—É–Ω–¥
    </script>

</body>

</html>